#Lesson1
##1.swift基本语法
###标示符
标示符就是给变量、常量、方法、函数、枚举、结构体、类、协议等指定的名字。在swift中标示符的命名规则如下：

* 区分大小写
* 首字符可以以下划线（_）或字母开始，但不能是数字
* 标示符的其他字符可以是下划线（_）、字母或数字
* swift的字母是Unicode编码所以如😄、🐶等表情符号也是合法的
* 如果一定要使用关键字作为标示符，可以在关键字前后使用（`）

###关键字
关键字是对编辑器具有特殊意义的预定义保留标示符

###常量和变量
####常量
常量是其值在使用过程中不会发生变化的量。使用let声明

```
let _Hello = "Hello"
```
_Hello就是常量，只能在初始化时赋值，如果我们企图再次赋值则程序会报错

####变量
变量使用var关键字声明

```
var x = 10 , y = 20, z = true
```

###注释
####单行注释
```
// 注释
```
####块注释
```
/* 注释 */
```
>提示：swift的块注释可以嵌套

###表达式
####不指定数据类型
由于swift中可以自动推断数据类型，所以在声明变量和常量是可以不指定数据类型

```
var a1 = 10
let a2 = 20
var a = a1 > a2 ? a1 : a2
```
####指定数据类型
也可以在声明时指定数据类型，这样会使程序的可读性更好，所以推荐声明变量和常量是明确的指定数据类型

```
var a1:Int = 10
let a2:Int = 20
var a:Int = a1 > a2 ? a1 : a2
```

###分号
与其他大部分编程语言不同，Swift 并不强制要求你在每条语句的结尾处使用分号（`;`），当然，你也可以按照你自己的习惯添加分号。有一种情况下必须要用分号，即你打算在同一行内写多条独立的语句：

```
var a = "a"; println(a)
```


##2.基本运算符
###算术运算符
####一元运算符
| 运算符         | 说明                   | 例子      |
| ------------- |:-----------------------| -------- |
| -             | 取反运算                | b=-a     |
| ++            | 先取值再加1，或先加1再取值 | a++或++a |
| --            | 先取值再加1，或先加1再取值 | a--或--a |

####二元运算符
| 运算符         | 说明                   | 例子      |
| ------------- |:-----------------------| -------- |
| +             | 求和，也可用于字符串的连接 | a+b      |
| -             | 求差                    | a-b     |
| \*            | 求积                    | a*b     |
| /             | 求商                    | a/b     |
| %             | 求余                    | a%b     |

####算术赋值运算符
| 运算符         | 说明                   | 例子     |
| ------------- |:-----------------------| ------- |
| +=            | 求和赋值                | a+=b    |
| -=            | 求差赋值                | a-=b    |
| \*=           | 求积赋值                | a*=b    |
| /=            | 求商赋值                | a/=b    |
| %=            | 求余赋值                | a%=b    |

###关系运算符
| 运算符 | 说明                                | 例子    | 可用类型             |
| ------|:-----------------------------------| ------- | ------------------ |
| ==    | a等b时为true，否则为false            | a==b   | 整形，浮点，字符串，布尔 |
| !=    | 与==相反                            | a!=b   | 整形，浮点，字符串，布尔 |
| >     | a大于b时为true，否则为false           | a>b    | 整形，浮点，字符串     |
| <     | a小于b时为true，否则为false           | a<b    | 整形，浮点，字符串     |
| >=    | a大于等于b时为true，否则为false        | a>=b   | 整形，浮点，字符串     |
| <=    | a小于等于b时为true，否则为false        | a<=b   | 整形，浮点，字符串     |
| ===   | a与b同引用一个实例时返回true，否则false | a===b  | 主要用于引用数据的比较  |
| !==   | 与===相反                           | a!==b  | 主要用于引用数据的比较  |
>* ==是比较内容，===是比较引用
* 引用类型之外的类型不能使用===进行比较，比如Int，String类型

###逻辑运算
| 运算符 | 说明                                | 例子    | 可用类型             |
| ------|:-----------------------------------| ------- | ------------------ |
| !     | 逻辑反                              | !a      | 布尔                |
| &&    | 短路与                              | a&&b    | 布尔                |
| \|\|  | 短路或                              | a\|\|b  | 布尔                |

###位运算符
| 运算符         | 说明                   | 例子     |
| ------------- |:-----------------------| ------- |
| ~             | 位反                   | ~a      |
| &             | 位与                   | a&b     |
| \|            | 位或                   | a\|b    |
| ^             | 位异或                 | a^b     |
| >>            | 右移                   | a>>b    |
| <<            | 左移                   | a<<b    |

###其他运算符
* 三元运算符 ( ? : ) 例如：x?y:z
* 括号：提高运算优先级
* 引用号（.）：实例调用属性、方法等操作符
* 赋值号（=）
* 下标运算符 []
* 箭头（->）：说明函数或方法的返回类型
* 逗号运算符（,）：用于集合分割元素
* 冒号运算符（:）：用于字典集合分割“键值”对

##3.基本数据类型
###Swift数据类型
Swift中的数据类型包括：整型、浮点型、布尔型、字符串、元组、集合、枚举、结构体和类等。  
这些类型按照参数传递的不同分为：值类型和引用类型  
**值类型**就是在赋值或给函数传递参数的时候，创建一个副本，把副本传递过去，这样在函数的调用过程中不会影响原始数据  
**引用类型**就是在赋值或给函数传递参数的时候，把本身数据传递过去，这样在函数调用过程中会影响原始数据  
在上述数据类型中，整型、浮点型、布尔型、字符串、元组、集合、枚举和结构体属于值类型，而类属于引用类型

###整型
Swift提供8、16、32、64位形式的有符号及无符号整数

| 数据类型       | 名称                    | 说明     | 范围 |
| ------------- |:-----------------------| ------- | ------- |
| Int8          | 有符号8位整型            |         | -128 ~ 127 |
| Int16         | 有符号16位整型           |         | -32768 ~ 32767 |
| Int32         | 有符号32位整型           |         | -2147483648 ~ 2147483647 |
| Int64         | 有符号64位整型           |         | -9223372036854775808 ~ 9223372036854775807 |
| Int           | 平台相关有符号整          | 在32位平台，Int与Int32宽度一致<br />在64位平台，Int与Int64宽度一致 |
| UInt8         | 有符号8位整型            |         | 0 ~ 255 |
| UInt16        | 有符号16位整型           |         | 0 ~ 65535 |
| UInt32        | 有符号32位整型           |         | 0 ~ 4294967295 |
| UInt64        | 有符号64位整型           |         | 0 ~ 18446744073709551615 |
| UInt          | 平台相关有符号整          | 在32位平台，UInt与UInt32宽度一致<br />在64位平台，UInt与UInt64宽度一致 |

在声明整型变量时，如果没有显示指定类型，没指定时Swift会自动推定为Int

```
var a = 30
var b:Int = 50
```
变量a没有指定任何数据类型，当我们把30赋给它时，Swift会自动推定为Int类型，这就是Swift的自动推断功能。此后我们就不能再把其他类型的值赋给它，类如下面的代码是错误的

```
var a = 30
a = "hello" // 注意，会发生编译错误
```

###浮点型
浮点型主要用来存储小数值，也可以用来存储范围较大的整数。
它分为`浮点数（float）`和`双精度浮点数（double）`

| 数据类型        | 名称                   | 说明       | 
| ------------- |:-----------------------| ---------- |
| Float         | 32位浮点数              |            |
| Double        | 64位浮点数              | 默认的浮点数 |

```
var f1:Float = 10.0
var f2:Double = 10.0
var f3:Float = 10 // 10.0
let pi = 3.14159  // 自动推断为Double类型
```
###数字表示方式
####进制数字表示
* 二进制数，以`0b`为前缀
* 八进制数，以`0o`为前缀
* 十六进制数，以`0x`为前缀
例如下面几条语句都是将整型28赋值给常量：

```
let decimaInt = 28
let binaryInt = 0b11100   // 二进制
let octalInt = 0o34       // 八进制
let hexadecimalInt = 0x1C // 十六进制
```
####指数表示
如果采用十进制表示指数，需要使用`e`（大写或小写）表示幂，`e2`表示10的平方,`e-2`表示10的-2次方

```
var e1 = 3.36e2    // 336.0
var e2 = 3.36E2    // 336.0
var e3 = 1.56e-2   // 0.0156
```
十六进制表示指数，需要使用`p`（大写或小写）表示幂

```
var p1 = 0x10p2    // 64.0 
```
####其他表示
在Swift中，为了阅读的方便，整数和浮点数均可添加多个`0`或`_`以提高可读性，两种表示均不会影响实际值

```
var rate = 000.0156       // 0.0156
var myMoney = 10_000_000  // 10,000,000
```
`_`一般是三位加一个

###数字类型之间的转换
Swift是一种安全的语言，对于类型的检查非常严格，不同类型之间不能随便转换
####整型之间的转换
在`C`和`Objective-C`等其他语言中，整型之间有两种转换方法

* 从小范围数到大范围数转换是自动的
* 从大范围数到小范围数需要前置类型转换，有可能造成数据精度的丢失

而在Swift中上述这两种方法都是行不通的，我们需要通过一些函数进行显示地转换

```
let historyScore:UInt8 = 90
let englishScore:UInt16 = 130

var totalScore1 = historyScore + englishScore // 错误                ①
var totalScore2 = UInt16(historyScore) + englishScore // 正确        ②
var totalScore3 = historyScore + UInt8(englishScore)  // 正确 不安全  ③
```

①由于`UInt8`和`UInt16`类型不同，它们之间不能转换，程序会有编译错误  
②由于是从小范围数转换成大范围数，这种转换是安全的  
③从大范围数转换成小范围数，这种转换是不安全的。由于本例中`englishScore`的值是130，这个转换是成功的，但如果把这个值改成1300，虽然程序编译没有问题，但是会再控制台中输出异常信息，这是运行期异常  
>上述代码中，`UInt16(historyScore)`和`UInt8(englishScore)`事实上是构造器，能够创建并初始化另一个类型。关于构造器的内容，我们会在以后的内容介绍

####整型和浮点型之间的转换
```
let score1:Float = 90.5
let score2:UInt16 = 130

let totalScore4 = score1 + score2          // 错误                 ①
let totalScore5 = score1 + Float(score2)   // 正确 安全             ②
let totalScore6 = UInt16(score1) + score2  // 正确 小数被裁掉 不安全  ③
```
①由于类型不同，它们之间不能转换，程序会有编译错误  
②由于是从小范围数转换成大范围数，这种转换是安全的  
③小数被裁掉，如果`score1`的值超过`UInt16`的范围，会出运行期异常

####布尔型
布尔型（`Bool`）只有两个值：`true`和`false`。它不能像`Objective-C`一样使用`1`代替`true`，使用`0`代替`false`

```
var isTrue = true
var isFalse:Bool = false
```

####元组类型
元组（`tuple`）这个词很抽象，它是一种数据结构，在数学中应用广泛。在计算机科学中，元组是关系数据库中的基本概念，元组表中的一条记录，每列就是一个字段。因此在二维表里，元组也称为记录。  
元组将多个相互关联组值合为单个值，便于管理和计算。元组内的值可以是任意类型，各字段类型不必相同。元组在作为函数返回值时尤其有用。  
假设我们要管理学生成绩，会定义一个Student元组，它包含学号（id）、姓名（name）、年龄（age）和分数（score），使用Swift语法表示Student元组就是：

```
var student1 = ("1001", "张三", 20, 90)
println("学生：\(student1.1) 学号：\(student1.0) 年龄：\(student1.2) 得分：\(student1.3)")

var student2 = (id:"1002", name:"李四", age:22, score:80)
println("学生：\(student2.name) 学号：\(student2.id) 年龄：\(student2.age) 得分：\(student2.score)")

let (id1,name1,age1,score1) = student1    // 把元组变量student1分解到4个不同的变量中
println("学生：\(name1) 学号：\(id1) 年龄：\(age1) 得分：\(score1)")

let (id2, name2, _, _) = student2        // 不需要使用的字段可以用下划线（_）代替
println("学生：\(name2) 学号：\(id2)")
```

##4.字符和字符串
###字符
字符串的组成单位是字符
####Unicode编码
Swift作为现代计算机语言，它采用Unicode编码，它的字符集几乎涵盖了我们所知道的一切字符。表示一个字符可以使用字符本身，也可以使用它的Unicode编码，特别是无法通过键盘输入的字符。  
Unicode编码可以有单字节编码、双字节编码和四字节编码。

| 编码类型        | 编码模板               | 说明       | 
| ------------- |:----------------------| ---------- |
| 单字节编码      | \xHH                  | x必须是小写，H表示一个十六进制数 |
| 双字节编码      | \uHHHH                | u必须是小写，H表示一个十六进制数 |
| 四字节编码      | \UHHHHHHHH            | U必须是大写，H表示一个十六进制数 |

####转义符
在Swift中，为了表示一些特殊字符，会使用“`\`”，这称为转义符。

###字符串
在Swift中，字符串的类型是`String`，事实上`String`是一个结构体。

```
let str = "I'm a String"
println("str的长度：\(countElements(str))")

let emptyString1 = ""
let emptyString2 = String()
```
`emptyString1`和`emptyString2`常量将被赋值为空的字符串，其中`String()`是调用了`String`的构造器。  
我们还可以通过`countElements`函数获得字符串中字符的个数，即字符串的长度

###字符串比较
####大小和相等比较
字符串类型与整型和浮点型一样，都可以进行相等以及大小的比较，比较的依据是Unicode编码值的大小。

```
let 熊 = "🐻"
let 猫 = "🐱"
if 熊 > 猫 {
    println("\(熊) > \(猫)")
} else {
    println("\(熊) < \(猫)")
}
// 结果为： 🐻 > 🐱
```
```
let emptyString1 = ""
let emptyString2 = String()
if emptyString1 == emptyString2 {
    println("相等")
} else {
    println("不相等")
}
// 结果为： 相等
```
>注意`String`和`Character`类型支持`==`和`!=`运算符，但不支持`===`和`!==`

####前缀和后缀比较
```
let file = "JAVA.doc"

let lowercase = file.lowercaseString

if lowercase.hasPrefix("java"){
    println("JAVA.doc 和java相关")
}

if lowercase.hasSuffix(".doc"){
    println("JAVA.doc 是.doc文档")
}
```
